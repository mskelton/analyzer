generator client {
  provider        = "prisma-client-js"
  previewFeatures = ["mongoDb"]
}

datasource db {
  provider = "mongodb"
  url      = env("DATABASE_URL")
}

model User {
  id       String @id @default(dbgenerated()) @map("_id") @db.ObjectId
  accounts Account[]

  email    String @unique
  name     String
}

model Account {
  id     String @id @default(dbgenerated()) @map("_id") @db.ObjectId
  userId String @db.ObjectId
  user   User   @relation(fields: [userId], references: [id])
  // deals  Deal[]

  name   String
}

model Deal {
  id        String  @id @default(dbgenerated()) @map("_id") @db.ObjectId
  // accountId String  @db.ObjectId
  // account   Account @relation(fields: [accountId], references: [id])

  comment String?
  commission Float?
  entry String
  fee Float?
  magic Int?
  order Int?
  price Float?
  profit Float?
  reason String
  sl Float?
  swap Float?
  symbol String?
  ticket Int
  time Int
  tp Float?
  type String
  volume Float?

  // @@unique([accountId, ticket])
}
